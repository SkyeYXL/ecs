---
keyword: [回滚云盘, 云盘, resetDisk, 阿里云, ecs]
---

# 使用快照回滚云盘

发生系统故障或错误操作时，您可以使用快照回滚云盘，实现应用版本回退。回滚时，云盘必须拥有至少一份历史快照。支持回滚系统盘和数据盘，如果回滚的是系统盘，默认自动绑定实例当前的SSH密钥对或用户名密码。

在使用快照回滚云盘前，请确认以下信息：

-   您已经为云盘创建快照，而且要回滚的云盘当前没有正在创建的快照。具体操作，请参见[创建普通快照](/intl.zh-CN/快照/使用快照/创建普通快照.md)或[创建本地快照](/intl.zh-CN/快照/使用快照/创建本地快照.md)。

    **警告：** 回滚云盘是不可逆操作，从快照的创建日期到回滚云盘时这段时间内的数据会丢失。为避免误操作，建议您在回滚前为云盘创建一份快照备份数据。

-   云盘未被释放。
-   更换系统盘后，历史系统盘快照不能用于回滚新的系统盘。
-   云盘被用作创建动态扩展卷或者RAID阵列时，您必须预先停止所有I/O操作，再使用快照回滚云盘。
-   云盘必须已经挂载到某台ECS实例上，而且已经停止实例。具体操作，请参见[挂载数据盘](/intl.zh-CN/块存储/云盘/挂载数据盘.md)和[停止实例](/intl.zh-CN/实例/管理实例/停止实例.md)。

    **说明：** 对于按量付费的VPC类型实例而言，停机不收费模式下，回滚云盘后可能无法成功启动实例。建议您停止实例时选择**停机后仍旧保留实例并继续收费**模式。


## 使用快照回滚云盘

回滚云盘时，您可以从**快照**页面和**实例**页面进入操作界面。本章节示例为从**实例**页面进入的操作步骤。

1.  登录[ECS管理控制台](https://ecs.console.aliyun.com)。

2.  在左侧导航栏，单击**实例与镜像** \> **实例**。

3.  在顶部菜单栏左上角处，选择地域。

4.  找到需要回滚云盘的实例，在**操作**列中，单击**管理**。

5.  在左侧导航栏中，单击**本实例快照**。

6.  选择需要的快照，在**操作**列中，单击**回滚磁盘**。

    **说明：** 单次只能回滚一块云盘，实例上挂载的其他云盘不受影响。回滚后，整块云盘会恢复到某个时间点的状态，而不是某个分区或目录当时的状态。

7.  在弹出的对话框中，单击**确定**。

    **说明：**

    -   在单击**确定**前，建议您单击**创建快照**备份最新的数据。
    -   如果您选择**回滚后立即启动实例**，云盘回滚成功后，实例会自动启动。

## （可选）回滚云盘后同步数据

假设您使用时间点一为云盘创建的快照A并执行了回滚操作，如果您需要同步时间一以后的积累数据，可以按以下步骤操作。

![同步数据](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/8263359951/p40777.png)

1.  在时间点二，为原云盘创建快照B。

2.  使用快照A回滚原云盘。

3.  使用快照B创建新云盘。

    具体操作，请参见[使用快照创建云盘](/intl.zh-CN/块存储/云盘/创建云盘/使用快照创建云盘.md)。

4.  在同一实例上挂载新云盘。

    具体操作，请参见[挂载数据盘](/intl.zh-CN/块存储/云盘/挂载数据盘.md)。

5.  远程连接ECS实例。连接方式请参见[连接方式概述](/intl.zh-CN/实例/连接实例/连接方式概述.md)。

6.  查看新增云盘B。

    -   Windows实例：在系统中可以直接看到新增的云盘B。
    -   Linux实例：使用mount命令挂载新云盘的分区。
7.  将新云盘中的有用数据复制到原云盘中。

8.  按需释放新云盘。


**相关文档**  


[ResetDisk](/intl.zh-CN/API参考/磁盘/ResetDisk.md)

